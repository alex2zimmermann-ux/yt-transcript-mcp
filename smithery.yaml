# Smithery configuration file: https://smithery.ai/docs/config#smitheryyaml

startCommand:
  type: stdio
  configSchema:
    type: object
    properties:
      mode:
        type: string
        enum: [standalone, backend]
        default: standalone
        description: "standalone uses youtube-transcript-api directly, backend connects to a VPS service with Whisper fallback"
      backendUrl:
        type: string
        default: ""
        description: "Backend service URL (only needed for backend mode)"
      backendApiKey:
        type: string
        default: ""
        description: "API key for backend service (only needed for backend mode)"
  commandFunction:
    |-
    (config) => ({
      command: "uv",
      args: ["run", "yt-transcript-mcp"],
      env: {
        YT_MCP_MODE: config.mode || "standalone",
        YT_MCP_BACKEND_URL: config.backendUrl || "",
        YT_MCP_BACKEND_API_KEY: config.backendApiKey || ""
      }
    })
